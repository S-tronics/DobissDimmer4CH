/**********************************************************************************************************************/
/**
 * @file        AppButton.h
 *
 * @author      Stijn Vermeersch
 * @date        27.07.2021
 *
 * @brief      
 *
 *
 *
 * \n<hr>\n
 * Copyright (c) 2021, S-tronics\n
 * All rights reserved.
 * \n<hr>\n
 */
/**********************************************************************************************************************/
#ifndef APPBUTTON_H
#define	APPBUTTON_H
/**********************************************************************************************************************/



/***********************************************************************************************************************
; I N C L U D E S
;---------------------------------------------------------------------------------------------------------------------*/
/**********************************************************************************************************************/



/***********************************************************************************************************************
; E X P O R T E D   S Y M B O L   D E F I N I T I O N S   A N D   M A C R O S
;---------------------------------------------------------------------------------------------------------------------*/

/**********************************************************************************************************************/



/***********************************************************************************************************************
; E X P O R T E D   T Y P E D E F S
;---------------------------------------------------------------------------------------------------------------------*/
typedef enum 
{
    BUTTON = 0x01,
    TEMPERATURE = 0x10
}
OWFILTER;
/**********************************************************************************************************************/



/***********************************************************************************************************************
; E X P O R T E D   V A R I A B L E S
;---------------------------------------------------------------------------------------------------------------------*/
//#pragma romdata CRC=0x0300
const unsigned char CRC[256] = {0L,94L,188L,226L,97L,63L,221L,131L,194L,156L,126L,32L,163L,253L,31L,65L,
                157L,195L,33L,127L,252L,162L,64L,30L,95L,1L,227L,189L,62L,96L,130L,220L,
                35L,125L,159L,193L,66L,28L,254L,160L,225L,191L,93L,3L,128L,222L,60L,98L,
                190L,224L,2L,92L,223L,129L,99L,61L,124L,34L,192L,158L,29L,67L,161L,255L,
                70L,24L,250L,164L,39L,121L,155L,197L,132L,218L,56L,102L,229L,187L,89L,7L,
                219L,133L,103L,57L,186L,228L,6L,88L,25L,71L,165L,251L,120L,38L,196L,154L,
                101L,59L,217L,135L,4L,90L,184L,230L,167L,249L,27L,69L,198L,152L,122L,36L,
                248L,166L,68L,26L,153L,199L,37L,123L,58L,100L,134L,216L,91L,5L,231L,185L,
                140L,210L,48L,110L,237L,179L,81L,15L,78L,16L,242L,172L,47L,113L,147L,205L,
                17L,79L,173L,243L,112L,46L,204L,146L,211L,141L,111L,49L,178L,236L,14L,80L,
                175L,241L,19L,77L,206L,144L,114L,44L,109L,51L,209L,143L,12L,82L,176L,238L,
                50L,108L,142L,208L,83L,13L,239L,177L,240L,174L,76L,18L,145L,207L,45L,115L,
                202L,148L,118L,40L,171L,245L,23L,73L,8L,86L,180L,234L,105L,55L,213L,139L,
                87L,9L,235L,181L,54L,104L,138L,212L,149L,203L,41L,119L,244L,170L,72L,22L,
                233L,183L,85L,11L,136L,214L,52L,106L,43L,117L,151L,201L,74L,20L,246L,168L,
                116L,42L,200L,150L,21L,75L,169L,247L,182L,232L,10L,84L,215L,137L,107L,53L};

unsigned char processedButtons[5][12];           // store processed buttons
/**********************************************************************************************************************/



/***********************************************************************************************************************
; E X P O R T E D   F U N C T I O N   P R O T O T Y P E S
;---------------------------------------------------------------------------------------------------------------------*/
/**
 * @brief   Function \n
 *
 * Description \n
 * 
 */
void AppButtonInit(void);

/**
 * @brief   Function \n
 *
 * Description \n
 * 
 */
void AppButtonOneWireReset(void);

/**
 * @brief   Initialiser for the GPIO module
 *
 * "UpdateButtonsAddress" verandert het adres van de eigen knopacties naar het nieuwe adres
 * Dit is vooral belangrijk bij het koppelen van een module die geprogrammeerd werd via de progbutton
 * aan de software\n
 * 
 * @param   newaddress:     \n
 * 
 */
void AppButtonUpdateButtonsAddress(unsigned char newaddress);

/**
 * @brief   Function \n
 *
 * Description \n
 * 
 */
void AppButtonclearProcessedButtons(void);

/**
 * @brief   Function \n
 *
 * Description \n
 * 
 */
bool AppButtonProg(void);
/**********************************************************************************************************************/



/***********************************************************************************************************************
; E X P O R T E D   S T A T I C   I N L I N E   F U N C T I O N S
;---------------------------------------------------------------------------------------------------------------------*/

/**********************************************************************************************************************/
#endif	/* APPBUTTON_H */
